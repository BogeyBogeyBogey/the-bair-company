<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Bair Company — Be All In Reality</title>
<meta name="description" content="The Bair Company — AI-driven creative bureau. Be All In Reality.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://images.unsplash.com">
<link rel="preconnect" href="https://images.unsplash.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@600;700;800&family=Inter:wght@300;400;500&family=Instrument+Serif:ital@1&display=swap" rel="stylesheet">
<style>
:root {
  --black: #0a0a0a;
  --white: #f0ede8;
  --grey: #666;
  --accent: #2E8AFF;
  --pink: #ec4899;
  --amber: #f59e0b;
  --emerald: #10b981;
  --red: #ef4444;
  --font-display: 'Syne', system-ui, sans-serif;
  --font-body: 'Inter', -apple-system, sans-serif;
  --font-serif: 'Instrument Serif', Georgia, serif;
  --ease: cubic-bezier(0.16, 1, 0.3, 1);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; scrollbar-width: none; }
::-webkit-scrollbar { width: 0; height: 0; }
body {
  background: var(--black);
  color: var(--white);
  font-family: var(--font-body);
  font-weight: 300;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}
a { color: inherit; text-decoration: none; }
button { font-family: inherit; cursor: pointer; border: none; background: none; color: inherit; }
::selection { background: var(--accent); color: var(--black); }

/* ── HEADER ── */
header {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  display: flex; align-items: center; justify-content: space-between;
  padding: 1.75rem 2.5rem;
  background: rgba(10,10,10,0);
  backdrop-filter: blur(0px);
  -webkit-backdrop-filter: blur(0px);
  transition: background 0.5s, backdrop-filter 0.5s;
  transform: translateZ(0);
}
header.scrolled {
  background: rgba(10,10,10,0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}
.brand {
  font-family: var(--font-display);
  font-size: 1rem; font-weight: 700;
  letter-spacing: 0.2em; text-transform: uppercase;
  opacity: 0; transition: opacity 0.5s;
}
header.scrolled .brand { opacity: 1; }
.nav-pills { display: flex; gap: 0.5rem; opacity: 0; transition: opacity 0.5s; }
header.scrolled .nav-pills { opacity: 1; }
.nav-pill {
  padding: 0.5rem 1.5rem;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 100px;
  font-size: 0.8rem; letter-spacing: 0.05em;
  transition: all 0.3s var(--ease);
}
.nav-pill:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.4); }
.menu-btn { display: none; font-size: 0.8rem; letter-spacing: 0.15em; text-transform: uppercase; opacity: 0; transition: opacity 0.5s; }
header.scrolled .menu-btn { opacity: 1; }

.mobile-nav {
  position: fixed; inset: 0; z-index: 99;
  background: var(--black);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 2rem;
  opacity: 0; visibility: hidden;
  transition: all 0.5s var(--ease);
}
.mobile-nav.open { opacity: 1; visibility: visible; }
.mobile-nav a {
  font-family: var(--font-display);
  font-size: 2rem; font-weight: 700;
  letter-spacing: 0.1em; text-transform: uppercase;
}

/* ══════════════════════════════════════════
   HERO — Text Morph + Line Figure
   ══════════════════════════════════════════ */
.hero {
  min-height: 100vh;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  text-align: center; padding: 0 2rem;
  position: relative; overflow: hidden;
}

/* ── Phase 1: THE BAIR COMPANY text ── */
.hero-text {
  position: relative;
  z-index: 2;
}
.hero-line {
  font-family: var(--font-display);
  font-size: clamp(2rem, 5.5vw, 5rem);
  font-weight: 800;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  line-height: 1.1;
  overflow: hidden;
}
.hero-line span {
  display: inline-block;
  transform: translateY(110%);
  opacity: 0;
  transition: transform 0.6s var(--ease), opacity 0.6s var(--ease);
}
.hero-line span.vis {
  transform: translateY(0);
  opacity: 1;
}
.hero-line span.fade-out {
  transform: translateY(-110%);
  opacity: 0;
}

/* ── Phase 2: BE ALL IN REALITY ── */
.hero-slogan {
  font-family: var(--font-display);
  font-size: clamp(2rem, 5.5vw, 5rem);
  font-weight: 800;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  line-height: 1.1;
  overflow: hidden;
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  white-space: nowrap;
  opacity: 0;
}
.hero-slogan.active { opacity: 1; }
.hero-slogan span {
  display: inline-block;
  transform: translateY(110%);
  opacity: 0;
  transition: transform 0.5s var(--ease), opacity 0.5s var(--ease);
}
.hero-slogan span.vis {
  transform: translateY(0);
  opacity: 1;
}
.hero-slogan .accent-letter {
  color: var(--accent);
  text-shadow: 0 0 30px rgba(46,138,255,0.4);
}

/* ── Falling lines from text ── */
.falling-line {
  position: absolute;
  width: 2px;
  height: 30px;
  background: var(--accent);
  opacity: 0;
  transition: all 1.2s var(--ease);
  box-shadow: 0 0 8px rgba(46,138,255,0.5);
}
.falling-line.fall {
  opacity: 1;
}
.falling-line.form {
  transition: all 1s var(--ease);
}

/* ── Line Figure (SVG stick figure) ── */
.hero-figure-wrap {
  position: absolute;
  bottom: 15vh;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  opacity: 0;
  transition: opacity 0.8s var(--ease);
}
.hero-figure-wrap.active { opacity: 1; }
.hero-figure {
  width: 120px;
  height: 200px;
}
.hero-figure path, .hero-figure circle, .hero-figure line {
  stroke: var(--accent);
  stroke-width: 2;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 300;
  stroke-dashoffset: 300;
  transition: stroke-dashoffset 1s var(--ease);
}
.hero-figure.draw path,
.hero-figure.draw circle,
.hero-figure.draw line {
  stroke-dashoffset: 0;
}

/* ── Speech bubble ── */
.hero-bubble {
  position: absolute;
  bottom: 28vh;
  left: calc(50% + 70px);
  background: rgba(46,138,255,0.1);
  border: 1px solid rgba(46,138,255,0.3);
  border-radius: 12px;
  padding: 0.8rem 1.2rem;
  font-size: 0.85rem;
  color: var(--white);
  opacity: 0;
  transform: translateY(10px) scale(0.95);
  transition: all 0.5s var(--ease);
  white-space: nowrap;
  z-index: 3;
}
.hero-bubble::before {
  content: '';
  position: absolute;
  left: -8px; top: 50%;
  transform: translateY(-50%);
  border: 6px solid transparent;
  border-right-color: rgba(46,138,255,0.3);
}
.hero-bubble.active {
  opacity: 1;
  transform: translateY(0) scale(1);
}
.hero-bubble strong { color: var(--accent); }

/* ── Scroll indicator ── */
.hero-scroll {
  position: absolute; bottom: 2.5rem;
  font-size: 0.65rem; letter-spacing: 0.3em;
  text-transform: uppercase; color: var(--grey);
  opacity: 0; transition: opacity 0.6s;
  z-index: 3;
}
.hero-scroll.active { opacity: 1; }
.hero-scroll::after {
  content: ''; display: block;
  width: 1px; height: 40px;
  background: var(--grey);
  margin: 0.75rem auto 0;
  animation: scrollPulse 2s ease infinite;
}
@keyframes scrollPulse { 0%,100% { opacity: 0.2; height: 40px; } 50% { opacity: 0.8; height: 55px; } }

/* ══════════════════════════════════════════
   STORY SECTIONS — AI narrative
   ══════════════════════════════════════════ */
.story {
  min-height: 80vh;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: 6rem 2rem;
}
.story-inner {
  max-width: 900px;
  display: flex;
  align-items: center;
  gap: 4rem;
  opacity: 0;
  transform: translateY(60px);
  transition: all 0.8s var(--ease);
}
.story-inner.vis {
  opacity: 1;
  transform: translateY(0);
}
.story-figure-side {
  flex-shrink: 0;
  width: 120px;
  height: 200px;
}
.story-figure-side path,
.story-figure-side circle,
.story-figure-side line {
  stroke: var(--accent);
  stroke-width: 2;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 300;
  stroke-dashoffset: 300;
  transition: stroke-dashoffset 1.2s var(--ease);
}
.story-inner.vis .story-figure-side path,
.story-inner.vis .story-figure-side circle,
.story-inner.vis .story-figure-side line {
  stroke-dashoffset: 0;
}

.story-content h2 {
  font-family: var(--font-display);
  font-size: clamp(1.8rem, 4vw, 3.5rem);
  font-weight: 800;
  line-height: 1.15;
  letter-spacing: -0.02em;
}
.story-content p {
  font-size: 1.1rem;
  color: var(--grey);
  margin-top: 1rem;
  line-height: 1.7;
}
.story-content .big-number {
  font-family: var(--font-display);
  font-size: clamp(5rem, 15vw, 12rem);
  font-weight: 800;
  color: rgba(255,255,255,0.05);
  position: absolute;
  right: 5%;
  top: 50%;
  transform: translateY(-50%);
  z-index: 0;
  transition: color 1s var(--ease);
}
.story-inner.vis .big-number {
  color: rgba(255,255,255,0.08);
}
.story-content .accent { color: var(--accent); }
.story-content .serif {
  font-family: var(--font-serif);
  font-weight: 400;
  font-style: italic;
}

/* ── The 1% transformation ── */
.story-transform {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.transform-number {
  font-family: var(--font-display);
  font-size: clamp(8rem, 25vw, 20rem);
  font-weight: 800;
  color: var(--accent);
  opacity: 0;
  transform: scale(0.5);
  transition: all 1s var(--ease);
  text-shadow: 0 0 80px rgba(46,138,255,0.3);
}
.transform-number.vis {
  opacity: 1;
  transform: scale(1);
}
.transform-subtitle {
  position: absolute;
  bottom: 20%;
  left: 50%;
  transform: translateX(-50%);
  font-family: var(--font-display);
  font-size: clamp(1rem, 2.5vw, 1.8rem);
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  opacity: 0;
  transition: opacity 0.8s 0.5s var(--ease);
}
.transform-number.vis ~ .transform-subtitle { opacity: 1; }

/* ══════════════════════════════════════════
   WHAT WE DO — Bridge section
   ══════════════════════════════════════════ */
.bridge {
  padding: 6rem 2rem;
  text-align: center;
}
.bridge-inner {
  max-width: 700px;
  margin: 0 auto;
  opacity: 0;
  transform: translateY(40px);
  transition: all 0.8s var(--ease);
}
.bridge-inner.vis {
  opacity: 1;
  transform: translateY(0);
}
.bridge h2 {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 3vw, 2.5rem);
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: 1.5rem;
}
.bridge p {
  color: var(--grey);
  font-size: 1.05rem;
  line-height: 1.8;
}
.bridge .accent { color: var(--accent); }

/* ══════════════════════════════════════════
   PORTFOLIO — Horizontal Drag Gallery
   ══════════════════════════════════════════ */
.portfolio {
  padding: 6rem 0 4rem;
  overflow: visible;
}
.portfolio-header {
  display: flex; justify-content: space-between;
  align-items: flex-end;
  padding: 0 2.5rem 3rem;
}
.portfolio-label {
  font-size: 0.7rem; letter-spacing: 0.3em;
  text-transform: uppercase; color: var(--grey);
  margin-bottom: 0.75rem;
}
.portfolio-title {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 800;
}
.portfolio-hint {
  display: flex; align-items: center; gap: 1rem;
  margin-bottom: 0.5rem;
}
.hint-text {
  font-size: 0.7rem; text-transform: uppercase;
  letter-spacing: 0.2em; color: var(--grey);
}
.hint-line {
  width: 60px; height: 1px; background: var(--grey);
  animation: hintSlide 2s ease infinite;
}
@keyframes hintSlide {
  0%,100% { transform: translateX(0); opacity: 0.3; }
  50% { transform: translateX(15px); opacity: 1; }
}

/* Drag track */
.drag-track {
  display: flex; gap: 2rem;
  padding: 0 2.5rem;
  cursor: grab;
  user-select: none;
  -webkit-user-select: none;
  will-change: transform;
}
.drag-track.dragging { cursor: grabbing; }

/* Project card */
.project-card {
  flex: 0 0 420px;
  border-radius: 16px;
  overflow: hidden;
  background: #111;
  transition: transform 0.5s var(--ease), filter 0.5s var(--ease);
  contain: layout style;
  will-change: transform, filter;
}
.project-card:not(.center-card) {
  transform: scale(0.92);
  filter: brightness(0.5);
}
.project-card.center-card {
  transform: scale(1);
  filter: brightness(1);
}

.reel-viewport {
  position: relative;
  aspect-ratio: 4/5;
  overflow: hidden;
  background: #111;
}
.reel-slides {
  position: absolute; inset: 0;
}
.reel-slide {
  position: absolute; inset: 0;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transform: scale(1) translateZ(0);
  transition: opacity 0.8s ease;
  will-change: opacity, transform;
}
.reel-slide.active { opacity: 1; }
.reel-slide.kenburns { animation: kenburns 2.5s ease forwards; }
@keyframes kenburns { from { transform: scale(1); } to { transform: scale(1.08); } }

.reel-vignette {
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(10,10,10,0.7) 0%, transparent 40%);
  pointer-events: none;
}
.reel-label {
  position: absolute; top: 1rem; left: 1rem;
  display: flex; align-items: center; gap: 0.5rem;
  z-index: 2;
}
.reel-label-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--card-color, var(--accent));
  box-shadow: 0 0 6px var(--card-color, var(--accent));
}
.reel-label-text { font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; }
.reel-counter {
  position: absolute; top: 1rem; right: 1rem;
  font-size: 0.65rem; letter-spacing: 0.1em; color: rgba(255,255,255,0.5);
}
.reel-play {
  position: absolute; bottom: 1rem; right: 1rem;
  width: 36px; height: 36px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.3);
  display: flex; align-items: center; justify-content: center;
  transition: all 0.3s;
  z-index: 2;
}
.reel-play::after {
  content: ''; display: block;
  width: 0; height: 0;
  border-left: 8px solid var(--white);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  margin-left: 2px;
}
.project-card:hover .reel-play { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.5); }
.reel-progress {
  position: absolute; bottom: 0; left: 0; right: 0;
  height: 2px; background: rgba(255,255,255,0.1);
}
.card-stripe {
  position: absolute; bottom: 0; left: 0;
  width: 100%; height: 3px;
  transform: scaleX(0); transform-origin: left;
  transition: transform 0.5s var(--ease);
}
.project-card:hover .card-stripe { transform: scaleX(1); }
.card-info {
  padding: 1.25rem 1.5rem;
  display: flex; justify-content: space-between; align-items: center;
}
.card-meta h3 {
  font-family: var(--font-display);
  font-size: 1rem; font-weight: 700;
}
.card-meta span {
  font-size: 0.75rem; color: var(--grey);
  margin-top: 0.25rem; display: block;
}
.card-arrow {
  font-size: 0.7rem; color: var(--grey);
  transition: transform 0.3s, color 0.3s;
}
.project-card:hover .card-arrow { transform: translateX(4px); color: var(--white); }

/* Gradient placeholder while video loads */
.has-video .reel-viewport::before {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  z-index: 0;
  transition: opacity 0.5s ease;
}
.has-video .card-video[data-loaded="true"] ~ .reel-viewport::before,
.has-video .reel-viewport:has(.card-video[data-loaded="true"])::before {
  opacity: 0;
}
.card-video {
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: 1;
  transform: translateZ(0);
}

/* ══════════════════════════════════════════
   DIENSTEN
   ══════════════════════════════════════════ */
.diensten {
  padding: 6rem 2.5rem;
  max-width: 900px;
  margin: 0 auto;
  content-visibility: auto;
  contain-intrinsic-size: auto 800px;
}
.diensten-grid { display: flex; flex-direction: column; gap: 0; margin-top: 3rem; }
.dienst {
  padding: 2rem 0;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  cursor: pointer;
}
.dienst:first-child { border-top: 1px solid rgba(255,255,255,0.08); }
.dienst-num {
  font-size: 0.65rem; color: var(--accent);
  letter-spacing: 0.2em; margin-bottom: 0.75rem;
}
.dienst-header {
  display: flex; justify-content: space-between; align-items: center;
}
.dienst-header h4 {
  font-family: var(--font-display);
  font-size: clamp(1.2rem, 2.5vw, 1.5rem);
  font-weight: 700;
}
.dienst-toggle {
  font-size: 1.5rem; color: var(--grey);
  transition: transform 0.3s;
}
.dienst.open .dienst-toggle { transform: rotate(45deg); }
.dienst > p {
  color: var(--grey); font-size: 0.9rem;
  margin-top: 0.5rem; line-height: 1.6;
}
.dienst-details {
  max-height: 0; overflow: hidden;
  transition: max-height 0.5s var(--ease), padding 0.5s;
}
.dienst.open .dienst-details {
  max-height: 400px;
  padding-top: 1rem;
}
.dienst-details p {
  color: var(--grey); font-size: 0.9rem;
  line-height: 1.7; margin-bottom: 0.75rem;
}
.dienst-cta {
  display: inline-block;
  font-size: 0.8rem; font-weight: 500;
  color: var(--accent);
  margin-top: 0.5rem;
  transition: letter-spacing 0.3s;
}
.dienst-cta:hover { letter-spacing: 0.05em; }

/* ══════════════════════════════════════════
   OVER
   ══════════════════════════════════════════ */
.over {
  display: flex; gap: 4rem;
  padding: 6rem 2.5rem;
  max-width: 1100px; margin: 0 auto;
  align-items: flex-start;
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}
.over-left { flex: 1; }
.section-label {
  font-size: 0.7rem; letter-spacing: 0.3em;
  text-transform: uppercase; color: var(--grey);
  margin-bottom: 1.5rem;
}
.over-quote {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 3vw, 2.2rem);
  font-weight: 700; line-height: 1.3;
}
.over-right {
  flex: 1;
  color: var(--grey); font-size: 0.95rem;
  line-height: 1.8;
}
.over-right p + p { margin-top: 1rem; }
.over-stats {
  display: flex; gap: 3rem; margin-top: 2.5rem;
}
.stat-val {
  font-family: var(--font-display);
  font-size: 2rem; font-weight: 800;
  color: var(--white);
}
.stat-label {
  font-size: 0.7rem; letter-spacing: 0.15em;
  text-transform: uppercase; color: var(--grey);
  margin-top: 0.25rem;
}

/* ══════════════════════════════════════════
   CONTACT CTA
   ══════════════════════════════════════════ */
.contact-cta {
  text-align: center;
  padding: 8rem 2rem;
  content-visibility: auto;
  contain-intrinsic-size: auto 400px;
}
.contact-cta h2 {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, 6vw, 5rem);
  font-weight: 800; line-height: 1.1;
}
.contact-cta .serif {
  font-family: var(--font-serif);
  font-weight: 400; font-style: italic;
}
.contact-cta p {
  color: var(--grey); margin-top: 1.5rem;
  font-size: 1rem;
}
.cta-btn {
  display: inline-block;
  margin-top: 2.5rem;
  padding: 1rem 3rem;
  border: 1px solid var(--white);
  border-radius: 100px;
  font-size: 0.85rem; letter-spacing: 0.1em;
  font-weight: 500;
  transition: all 0.4s var(--ease);
}
.cta-btn:hover {
  background: var(--white); color: var(--black);
  letter-spacing: 0.15em;
}

/* ── Footer ── */
footer {
  display: flex; justify-content: space-between;
  padding: 2rem 2.5rem;
  border-top: 1px solid rgba(255,255,255,0.06);
  font-size: 0.75rem; color: var(--grey);
}
.footer-links { display: flex; gap: 2rem; }
.footer-links a { transition: color 0.3s; }
.footer-links a:hover { color: var(--white); }

/* ── Video Modal ── */
.video-modal {
  position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,0.95);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  opacity: 0; visibility: hidden;
  transition: all 0.4s;
}
.video-modal.active { opacity: 1; visibility: visible; }
.video-modal video {
  max-width: 90vw; max-height: 80vh;
  border-radius: 8px;
}
.video-modal-close {
  position: absolute; top: 2rem; right: 2rem;
  font-size: 1.5rem; color: var(--white);
  z-index: 201;
}
.video-modal-title {
  margin-top: 1rem; font-size: 0.8rem;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--grey);
}

/* ── Scroll reveal ── */
.reveal {
  opacity: 0; transform: translateY(40px);
  transition: all 0.8s var(--ease);
  will-change: opacity, transform;
}
.reveal.vis { opacity: 1; transform: translateY(0); }

/* ══════════════════════════════════════════
   RESPONSIVE
   ══════════════════════════════════════════ */
@media (max-width: 768px) {
  .nav-pills { display: none; }
  .menu-btn { display: block; }
  .project-card { flex: 0 0 85vw; }
  .over { flex-direction: column; gap: 2rem; }
  .story-inner { flex-direction: column; gap: 2rem; text-align: center; }
  .story-figure-side { width: 80px; height: 140px; }
  .hero-bubble {
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    bottom: 24vh;
  }
  .hero-bubble.active {
    transform: translateX(-50%) translateY(0);
  }
  .hero-bubble::before { display: none; }
  .hero-figure-wrap { bottom: 12vh; }
}
@media (max-width: 480px) {
  header { padding: 1.25rem 1.5rem; }
  .portfolio-header { padding: 0 1.5rem 2rem; flex-direction: column; align-items: flex-start; gap: 1rem; }
  .drag-track { padding: 0 1rem; gap: 1rem; }
  .diensten { padding: 4rem 1.5rem; }
  .contact-cta { padding: 5rem 1.5rem; }
}
</style>
</head>
<body>

<!-- HEADER (hidden until scroll) -->
<header id="mainHeader">
  <a href="#" class="brand">The Bair Co.</a>
  <nav class="nav-pills">
    <a href="#werk" class="nav-pill">Portfolio</a>
    <a href="#diensten" class="nav-pill">Studio</a>
    <a href="#over" class="nav-pill">Over</a>
    <a href="#contact" class="nav-pill">Contact</a>
  </nav>
  <button class="menu-btn" id="menuBtn">Menu</button>
</header>

<!-- MOBILE NAV -->
<div class="mobile-nav" id="mobileNav">
  <a href="#werk" onclick="closeMob()">Portfolio</a>
  <a href="#diensten" onclick="closeMob()">Studio</a>
  <a href="#over" onclick="closeMob()">Over</a>
  <a href="#contact" onclick="closeMob()">Contact</a>
</div>

<!-- ══════════════════════════════════════════
     HERO — Animated text morph + line figure
     ══════════════════════════════════════════ -->
<section class="hero" id="heroSection">
  <div class="hero-text" id="heroText">
    <!-- Phase 1: THE BAIR COMPANY -->
    <div class="hero-line" id="heroLine1">
      <span>T</span><span>H</span><span>E</span><span>&nbsp;</span><span>&nbsp;</span><span>B</span><span>A</span><span>I</span><span>R</span><span>&nbsp;</span><span>&nbsp;</span><span>C</span><span>O</span><span>M</span><span>P</span><span>A</span><span>N</span><span>Y</span>
    </div>
    <!-- Phase 2: BE ALL IN REALITY -->
    <div class="hero-slogan" id="heroSlogan">
      <span class="accent-letter">B</span><span>E</span><span>&nbsp;</span><span>&nbsp;</span><span class="accent-letter">A</span><span>L</span><span>L</span><span>&nbsp;</span><span>&nbsp;</span><span class="accent-letter">I</span><span>N</span><span>&nbsp;</span><span>&nbsp;</span><span class="accent-letter">R</span><span>E</span><span>A</span><span>L</span><span>I</span><span>T</span><span>Y</span>
    </div>
  </div>

  <!-- Line figure that forms from fallen lines -->
  <div class="hero-figure-wrap" id="heroFigureWrap">
    <svg class="hero-figure" id="heroFig" viewBox="0 0 120 200">
      <!-- Head -->
      <circle cx="60" cy="30" r="15"/>
      <!-- Body -->
      <line x1="60" y1="45" x2="60" y2="120"/>
      <!-- Left arm -->
      <path d="M60,70 L30,95"/>
      <!-- Right arm (waving) -->
      <path d="M60,70 L90,50"/>
      <!-- Left leg -->
      <path d="M60,120 L35,175"/>
      <!-- Right leg -->
      <path d="M60,120 L85,175"/>
      <!-- Ground line -->
      <line x1="10" y1="180" x2="110" y2="180"/>
    </svg>
  </div>

  <!-- Speech bubble -->
  <div class="hero-bubble" id="heroBubble">
    What are you waiting for? <strong>Scroll!</strong>
  </div>

  <div class="hero-scroll" id="heroScroll">↓</div>
</section>

<!-- ══════════════════════════════════════════
     STORY SECTIONS — AI Narrative
     ══════════════════════════════════════════ -->

<!-- Scene 1: You heard about AI -->
<section class="story" id="story1">
  <div class="story-inner">
    <svg class="story-figure-side" viewBox="0 0 120 200">
      <circle cx="60" cy="30" r="15"/>
      <line x1="60" y1="45" x2="60" y2="120"/>
      <path d="M60,70 L30,55"/>
      <path d="M60,70 L90,55"/>
      <path d="M60,120 L40,175"/>
      <path d="M60,120 L80,175"/>
      <line x1="10" y1="180" x2="110" y2="180"/>
    </svg>
    <div class="story-content">
      <h2>So, you heard about <span class="accent">AI</span>...</h2>
      <p>Iedereen heeft het erover. Het verandert alles. Van hoe je werkt tot hoe je communiceert. Van marketing tot klantenservice. AI is overal.</p>
    </div>
  </div>
</section>

<!-- Scene 2: But you don't know how -->
<section class="story" id="story2">
  <div class="story-inner">
    <svg class="story-figure-side" viewBox="0 0 120 200">
      <circle cx="60" cy="30" r="15"/>
      <line x1="60" y1="45" x2="60" y2="120"/>
      <!-- Arms up/shrug -->
      <path d="M60,70 L25,50"/>
      <path d="M60,70 L95,50"/>
      <!-- Question mark above head -->
      <path d="M55,5 Q55,-5 60,-5 Q70,-5 70,5 Q70,10 60,12" style="stroke: var(--accent); stroke-width: 1.5;"/>
      <circle cx="60" cy="17" r="1" style="fill: var(--accent); stroke: none;"/>
      <path d="M60,120 L40,175"/>
      <path d="M60,120 L80,175"/>
      <line x1="10" y1="180" x2="110" y2="180"/>
    </svg>
    <div class="story-content">
      <h2>...but you don't know how to <span class="serif">master</span> it?</h2>
      <p>Welke tools? Welke strategie? Hoe begin je? Het voelt overweldigend. En eerlijk? Dat is het ook — als je het alleen probeert.</p>
    </div>
  </div>
</section>

<!-- Scene 3: 99% doesn't -->
<section class="story" id="story3">
  <div class="story-inner" style="position: relative;">
    <svg class="story-figure-side" viewBox="0 0 120 200">
      <circle cx="60" cy="30" r="15"/>
      <line x1="60" y1="45" x2="60" y2="120"/>
      <!-- Relaxed arms -->
      <path d="M60,70 L35,100"/>
      <path d="M60,70 L85,100"/>
      <path d="M60,120 L40,175"/>
      <path d="M60,120 L80,175"/>
      <line x1="10" y1="180" x2="110" y2="180"/>
    </svg>
    <div class="story-content">
      <h2>No worries. <span class="accent">99%</span> doesn't.</h2>
      <p>De meeste bedrijven weten dat AI belangrijk is. Maar bijna niemand weet hoe ze het écht moeten inzetten. Je bent niet alleen.</p>
      <div class="big-number">99%</div>
    </div>
  </div>
</section>

<!-- Scene 4: The 1% transformation -->
<section class="story-transform" id="story4">
  <div class="transform-number" id="transformNum">1%</div>
  <div class="transform-subtitle">Luckily — we are the <strong style="color: var(--accent);">1%</strong></div>
</section>

<!-- Bridge: What we actually do -->
<section class="bridge" id="bridge">
  <div class="bridge-inner">
    <h2>Wij maken <span class="accent">AI</span> concreet voor jouw business.</h2>
    <p>Van slimme automatisaties tot AI-gedreven websites en apps. Van content die zichzelf schrijft tot chatbots die je klanten helpen. Geen buzzwords — alleen resultaten die je voelt in je omzet.</p>
  </div>
</section>

<!-- ══════════════════════════════════════════
     PORTFOLIO
     ══════════════════════════════════════════ -->
<section class="portfolio" id="werk">
  <div class="portfolio-header reveal">
    <div>
      <p class="portfolio-label">Ons werk</p>
      <h2 class="portfolio-title">Portfolio</h2>
    </div>
    <div class="portfolio-hint">
      <span class="hint-text">Sleep</span>
      <span class="hint-line"></span>
    </div>
  </div>

  <div class="drag-track" id="dragTrack">
    <div class="project-card has-video" data-project="gigi-socials" data-video="portfoliogigimoneysocials.mp4" style="--card-color: var(--pink);">
      <div class="reel-viewport">
        <video class="card-video" src="portfoliogigimoneysocials.mp4" muted loop playsinline preload="none"></video>
        <div class="reel-vignette"></div>
        <div class="reel-label"><div class="reel-label-dot"></div><span class="reel-label-text">Showreel</span></div>
        <div class="reel-play"></div>
        <div class="card-stripe" style="background: var(--pink);"></div>
      </div>
      <div class="card-info">
        <div class="card-meta"><h3>GiGi Money</h3><span>Commercials · Social Media</span></div>
        <div class="card-arrow">▶</div>
      </div>
    </div>

    <div class="project-card has-video" data-project="gigi-site" data-video="portfoliogigimoneysiteandapp.mp4" style="--card-color: var(--accent);">
      <div class="reel-viewport">
        <video class="card-video" src="portfoliogigimoneysiteandapp.mp4" muted loop playsinline preload="none"></video>
        <div class="reel-vignette"></div>
        <div class="reel-label"><div class="reel-label-dot"></div><span class="reel-label-text">Showreel</span></div>
        <div class="reel-play"></div>
        <div class="card-stripe" style="background: var(--accent);"></div>
      </div>
      <div class="card-info">
        <div class="card-meta"><h3>GiGi Money</h3><span>Fintech · Website · App</span></div>
        <div class="card-arrow">▶</div>
      </div>
    </div>

    <div class="project-card" data-project="rosing" style="--card-color: var(--red); --reel-duration: 12s;">
      <div class="reel-viewport">
        <div class="reel-slides" data-reel="rosing"></div>
        <div class="reel-vignette"></div>
        <div class="reel-label"><div class="reel-label-dot"></div><span class="reel-label-text">Homepage</span></div>
        <div class="reel-counter">1 / 5</div>
        <div class="reel-play"></div>
        <div class="reel-progress"></div>
        <div class="card-stripe" style="background: var(--red);"></div>
      </div>
      <div class="card-info">
        <div class="card-meta"><h3>Rosing Security</h3><span>Security · Animatie · Web</span></div>
        <div class="card-arrow">▶</div>
      </div>
    </div>

    <div class="project-card has-video" data-project="artoah" data-video="portfolioartoah.mp4" style="--card-color: var(--amber);">
      <div class="reel-viewport">
        <video class="card-video" src="portfolioartoah.mp4" muted loop playsinline preload="none"></video>
        <div class="reel-vignette"></div>
        <div class="reel-label"><div class="reel-label-dot"></div><span class="reel-label-text">Showreel</span></div>
        <div class="reel-play"></div>
        <div class="card-stripe" style="background: var(--amber);"></div>
      </div>
      <div class="card-info">
        <div class="card-meta"><h3>Artoah</h3><span>Farm · Storytelling · Video</span></div>
        <div class="card-arrow">▶</div>
      </div>
    </div>

    <div class="project-card has-video" data-project="hvh" data-video="portfoliohansvanhest.mp4" style="--card-color: var(--emerald);">
      <div class="reel-viewport">
        <video class="card-video" src="portfoliohansvanhest.mp4" muted loop playsinline preload="none"></video>
        <div class="reel-vignette"></div>
        <div class="reel-label"><div class="reel-label-dot"></div><span class="reel-label-text">Showreel</span></div>
        <div class="reel-play"></div>
        <div class="card-stripe" style="background: var(--emerald);"></div>
      </div>
      <div class="card-info">
        <div class="card-meta"><h3>Hans van Hest — KBC</h3><span>Verzekeringen · Landing page</span></div>
        <div class="card-arrow">▶</div>
      </div>
    </div>
  </div>
</section>

<!-- DIENSTEN -->
<section class="diensten reveal" id="diensten">
  <p class="portfolio-label">Wat we doen</p>
  <h2 class="portfolio-title">Studio</h2>
  <div class="diensten-grid">
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">01</div>
      <div class="dienst-header"><h4>AI Strategie & Implementatie</h4><div class="dienst-toggle">+</div></div>
      <p>Van AI-audit tot implementatie. We analyseren waar AI jouw bedrijf het meeste oplevert.</p>
      <div class="dienst-details">
        <p>We starten met een grondige analyse van je workflows en identificeren waar AI de grootste impact kan hebben. Geen one-size-fits-all oplossingen, maar maatwerk dat past bij jouw team en budget.</p>
        <p>Van ChatGPT-integraties tot custom AI-modellen — wij bouwen het, jij plukt de vruchten.</p>
        <a href="#contact" class="dienst-cta">Plan je AI-audit →</a>
      </div>
    </div>
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">02</div>
      <div class="dienst-header"><h4>Web Design & Development</h4><div class="dienst-toggle">+</div></div>
      <p>AI-gedreven websites die niet alleen mooi zijn, maar ook slim. Automatische content, chatbots, personalisatie.</p>
      <div class="dienst-details">
        <p>94% van eerste indrukken online gaat over design. Wij ontwerpen websites die bezoekers vasthouden en converteren — versterkt met AI die je content optimaliseert en je bezoekers herkent.</p>
        <p>Elke pixel heeft een doel. Elke interactie voelt vanzelfsprekend aan.</p>
        <a href="#contact" class="dienst-cta">Laat je site ontwerpen →</a>
      </div>
    </div>
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">03</div>
      <div class="dienst-header"><h4>Content & Social Media</h4><div class="dienst-toggle">+</div></div>
      <p>AI-powered content creatie. Van strategie tot uitvoering, schaalbaar en consistent on-brand.</p>
      <div class="dienst-details">
        <p>Posten zonder plan is schreeuwen in de leegte. Wij combineren AI-tools met menselijke creativiteit voor content die resoneert. Sneller produceren, slimmer distribueren, beter converteren.</p>
        <p>Van Reels en carousels tot e-mail automation — consistent, on-brand en resultaatgericht.</p>
        <a href="#contact" class="dienst-cta">Boost je content →</a>
      </div>
    </div>
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">04</div>
      <div class="dienst-header"><h4>Branding & Identiteit</h4><div class="dienst-toggle">+</div></div>
      <p>Logo, huisstijl, merkstrategie. We geven jouw merk een gezicht dat werkt op elk touchpoint.</p>
      <div class="dienst-details">
        <p>Eerste indrukken tellen. Jouw merk heeft gemiddeld 7 seconden om te overtuigen. Wij zorgen ervoor dat elke seconde raak is — van logo en kleurenpalet tot tone of voice en merkrichtlijnen.</p>
        <p>Het resultaat? Een herkenbaar merk dat vertrouwen wekt en klanten aantrekt.</p>
        <a href="#contact" class="dienst-cta">Start jouw merktraject →</a>
      </div>
    </div>
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">05</div>
      <div class="dienst-header"><h4>Apps & Digitale Producten</h4><div class="dienst-toggle">+</div></div>
      <p>Van concept tot App Store. AI-versterkte apps die je gebruikers niet meer willen missen.</p>
      <div class="dienst-details">
        <p>Eén team, één visie, één product. Van gebruikersonderzoek tot lancering, met AI geïntegreerd waar het waarde toevoegt — slimme aanbevelingen, natuurlijke taalverwerking, voorspellende functies.</p>
        <a href="#contact" class="dienst-cta">Start je product →</a>
      </div>
    </div>
    <div class="dienst reveal" onclick="toggleDienst(this)">
      <div class="dienst-num">06</div>
      <div class="dienst-header"><h4>AI Automatisatie</h4><div class="dienst-toggle">+</div></div>
      <p>Repetitieve taken? Laat AI het doen. Wij bouwen automatisaties die uren per week besparen.</p>
      <div class="dienst-details">
        <p>Van e-mail afhandeling tot rapportage, van klantenservice tot data-analyse. Wij identificeren de processen die je team vertragen en automatiseren ze met AI — zodat jij je focust op wat echt telt.</p>
        <a href="#contact" class="dienst-cta">Automatiseer je business →</a>
      </div>
    </div>
  </div>
</section>

<!-- OVER -->
<section class="over reveal" id="over">
  <div class="over-left">
    <p class="section-label">Over ons</p>
    <h2 class="over-quote">We zijn de 1% die AI écht begrijpt — en het voor jou laat werken.</h2>
  </div>
  <div class="over-right">
    <p>The Bair Company is een AI-first creatief bureau. We geloven dat de toekomst toebehoort aan bedrijven die AI slim inzetten — niet als vervanging, maar als versterking van menselijke creativiteit.</p>
    <p>We zijn bewust klein gebleven. Geen lagen management, geen eindeloze vergaderingen. Gewoon directe lijnen, scherpe ideeën en AI-expertise die resultaat oplevert.</p>
    <div class="over-stats">
      <div><div class="stat-val">4+</div><div class="stat-label">Projecten</div></div>
      <div><div class="stat-val">3+</div><div class="stat-label">Klanten</div></div>
      <div><div class="stat-val">∞</div><div class="stat-label">Koffie</div></div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section class="contact-cta reveal" id="contact">
  <h2>Ready to <span class="serif">B.A.I.R.</span>?</h2>
  <p>Be All In Reality. Laat ons jouw AI-verhaal schrijven.</p>
  <a href="mailto:kristofbogaerts@hotmail.com" class="cta-btn">Neem contact op</a>
</section>

<footer>
  <span>&copy; 2026 The Bair Company</span>
  <div class="footer-links">
    <a href="mailto:kristofbogaerts@hotmail.com">Email</a>
    <a href="#werk">Portfolio</a>
    <a href="#diensten">Studio</a>
  </div>
</footer>

<!-- VIDEO MODAL -->
<div class="video-modal" id="videoModal">
  <button class="video-modal-close" id="videoModalClose">✕</button>
  <video id="modalVideo" controls playsinline preload="none"></video>
  <div class="video-modal-title" id="modalTitle"></div>
</div>

<script>
// ══════════════════════════════════════════
// HERO ANIMATION SEQUENCE
// Phase 1: "THE BAIR COMPANY" appears letter by letter
// Phase 2: Text morphs out, "BE ALL IN REALITY" morphs in
// Phase 3: Lines fall, form stick figure
// Phase 4: Speech bubble + scroll cue
// ══════════════════════════════════════════

const heroLine1 = document.getElementById('heroLine1');
const heroSlogan = document.getElementById('heroSlogan');
const heroFigureWrap = document.getElementById('heroFigureWrap');
const heroFig = document.getElementById('heroFig');
const heroBubble = document.getElementById('heroBubble');
const heroScroll = document.getElementById('heroScroll');

const line1Spans = heroLine1.querySelectorAll('span');
const sloganSpans = heroSlogan.querySelectorAll('span');

// Phase 1: Show "THE BAIR COMPANY" letter by letter
function phase1() {
  line1Spans.forEach((span, i) => {
    setTimeout(() => span.classList.add('vis'), 150 + i * 60);
  });
  // Total time: ~150 + 18*60 = ~1230ms, then hold for 1s
  setTimeout(phase2, 2400);
}

// Phase 2: Morph — fade out line1, fade in slogan
function phase2() {
  // Fade out THE BAIR COMPANY
  line1Spans.forEach((span, i) => {
    setTimeout(() => span.classList.add('fade-out'), i * 30);
  });

  // After line1 is gone, show BE ALL IN REALITY
  setTimeout(() => {
    heroSlogan.classList.add('active');
    sloganSpans.forEach((span, i) => {
      setTimeout(() => span.classList.add('vis'), i * 50);
    });
    // After slogan fully visible, show figure
    setTimeout(phase3, 1800);
  }, 600);
}

// Phase 3: Draw the stick figure
function phase3() {
  heroFigureWrap.classList.add('active');
  heroFig.classList.add('draw');

  // Phase 4: speech bubble + scroll after figure draws
  setTimeout(() => {
    heroBubble.classList.add('active');
    setTimeout(() => heroScroll.classList.add('active'), 500);
  }, 1200);
}

// Start the sequence
setTimeout(phase1, 300);

// ══════════════════════════════════════════
// HEADER — show on scroll
// ══════════════════════════════════════════
const mainHeader = document.getElementById('mainHeader');
window.addEventListener('scroll', () => {
  mainHeader.classList.toggle('scrolled', window.scrollY > 100);
}, { passive: true });

// ══════════════════════════════════════════
// STORY SECTIONS — scroll reveal
// ══════════════════════════════════════════
const storyObs = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.querySelector('.story-inner')?.classList.add('vis');
      e.target.querySelector('.transform-number')?.classList.add('vis');
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.story, .story-transform').forEach(s => storyObs.observe(s));

// Bridge reveal
const bridgeObs = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) e.target.querySelector('.bridge-inner')?.classList.add('vis');
  });
}, { threshold: 0.3 });
document.querySelectorAll('.bridge').forEach(b => bridgeObs.observe(b));

// ══════════════════════════════════════════
// TRAILER REEL SYSTEM (from original)
// ══════════════════════════════════════════
const reelData = {
  rosing: {
    slides: [
      { image: 'https://images.unsplash.com/photo-1558002038-1055907df827?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Homepage' },
      { image: 'https://images.unsplash.com/photo-1557597774-9d273605dfa9?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Beveiligingssystemen' },
      { image: 'https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Diensten' },
      { image: 'https://images.unsplash.com/photo-1562408590-e32931084e23?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Camerabewaking' },
      { image: 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Contact' }
    ], interval: 2400
  },
  artoah: {
    slides: [
      { image: 'https://images.unsplash.com/photo-1500595046743-cd271d694d30?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Homepage' },
      { image: 'https://images.unsplash.com/photo-1559181567-c3190ca9959b?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Hoeve-ijs' },
      { image: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Bakkerij' },
      { image: 'https://images.unsplash.com/photo-1595981267035-7b04ca84a82d?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Winkel' },
      { image: 'https://images.unsplash.com/photo-1472653816316-3ad6f10a6592?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Kampen' },
      { image: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Boerderijleven' }
    ], interval: 2500
  },
  hvh: {
    slides: [
      { image: 'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Homepage' },
      { image: 'https://images.unsplash.com/photo-1554224154-26032ffc0d07?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Verzekeringen' },
      { image: 'https://images.unsplash.com/photo-1560472355-536de3962603?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Services' },
      { image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Contact' },
      { image: 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=1000&fit=crop&q=85&auto=format', label: 'Over KBC' }
    ], interval: 2400
  }
};

function initReels() {
  Object.keys(reelData).forEach(key => {
    const container = document.querySelector(`[data-reel="${key}"]`);
    if (!container) return;
    const data = reelData[key];
    data.slides.forEach((slide, i) => {
      const div = document.createElement('div');
      div.className = 'reel-slide' + (i === 0 ? ' active' : '');
      div.dataset.bg = slide.image;
      div.dataset.label = slide.label;
      container.appendChild(div);
    });
    container._currentSlide = 0;
    container._totalSlides = data.slides.length;
    container._interval = data.interval;
    container._timer = null;
    container._data = data;
  });
}

function setupReelHovers() {
  document.querySelectorAll('.project-card').forEach(card => {
    if (card._videoInit) return;
    const video = card.querySelector('.card-video');
    if (video) {
      card._videoInit = true;
      card.addEventListener('mouseenter', () => { video.currentTime = 0; video.play().catch(() => {}); });
      card.addEventListener('mouseleave', () => { video.pause(); });
      if ('ontouchstart' in window) {
        const obs = new IntersectionObserver((entries) => {
          entries.forEach(e => {
            if (e.isIntersecting && e.intersectionRatio > 0.3) { card.classList.add('mobile-active'); video.play().catch(() => {}); }
            else { card.classList.remove('mobile-active'); video.pause(); }
          });
        }, { threshold: [0, 0.3] });
        obs.observe(card);
      }
      return;
    }
    const reelContainer = card.querySelector('.reel-slides');
    if (!reelContainer) return;
    const labelEl = card.querySelector('.reel-label-text');
    const counterEl = card.querySelector('.reel-counter');
    card.addEventListener('mouseenter', () => { startReel(reelContainer, labelEl, counterEl); });
    card.addEventListener('mouseleave', () => { stopReel(reelContainer, labelEl, counterEl); });
    if ('ontouchstart' in window) {
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting && e.intersectionRatio > 0.6) startReel(reelContainer, labelEl, counterEl);
          else stopReel(reelContainer, labelEl, counterEl);
        });
      }, { threshold: [0, 0.6] });
      obs.observe(card);
    }
  });
}

function startReel(container, labelEl, counterEl) {
  if (container._timer) return;
  const advance = () => {
    const slides = container.querySelectorAll('.reel-slide');
    const current = container._currentSlide;
    const next = (current + 1) % container._totalSlides;
    slides[current].classList.remove('active', 'kenburns');
    slides[next].classList.add('active', 'kenburns');
    container._currentSlide = next;
    if (labelEl && container._data) labelEl.textContent = container._data.slides[next].label;
    if (counterEl) counterEl.textContent = `${next + 1} / ${container._totalSlides}`;
  };
  const slides = container.querySelectorAll('.reel-slide');
  slides[container._currentSlide].classList.add('kenburns');
  container._timer = setInterval(advance, container._interval);
}

function stopReel(container, labelEl, counterEl) {
  if (container._timer) { clearInterval(container._timer); container._timer = null; }
  const slides = container.querySelectorAll('.reel-slide');
  slides.forEach((s, i) => { s.classList.remove('active', 'kenburns'); if (i === 0) s.classList.add('active'); });
  container._currentSlide = 0;
  if (labelEl && container._data) labelEl.textContent = container._data.slides[0].label;
  if (counterEl) counterEl.textContent = `1 / ${container._totalSlides}`;
}

// ══════════════════════════════════════════
// MOBILE MENU
// ══════════════════════════════════════════
const menuBtn = document.getElementById('menuBtn');
const mobileNav = document.getElementById('mobileNav');
let mobOpen = false;
menuBtn.addEventListener('click', () => {
  mobOpen = !mobOpen;
  mobileNav.classList.toggle('open', mobOpen);
  menuBtn.textContent = mobOpen ? 'Sluit' : 'Menu';
});
function closeMob() {
  mobOpen = false; mobileNav.classList.remove('open'); menuBtn.textContent = 'Menu';
}

// ══════════════════════════════════════════
// INFINITE CAROUSEL WITH MOMENTUM
// ══════════════════════════════════════════
const track = document.getElementById('dragTrack');
let isDragging = false, startX, startY, dragMoved = false;
let currentOffset = 0, touchDirection = null;
let velocity = 0, lastMoveTime = 0, lastMoveX = 0, momentumRAF = null;
const FRICTION = 0.94, VELOCITY_SCALE = 1.8, MIN_VELOCITY = 0.3;

function refreshClonedVideos(clone) {
  clone.querySelectorAll('.card-video').forEach(oldVid => {
    const newVid = document.createElement('video');
    newVid.className = oldVid.className; newVid.src = oldVid.src;
    newVid.muted = true; newVid.loop = true; newVid.playsInline = true; newVid.preload = 'none';
    newVid.setAttribute('playsinline', ''); newVid.setAttribute('muted', '');
    oldVid.parentNode.replaceChild(newVid, oldVid);
  });
}

function setupInfiniteTrack() {
  const cards = Array.from(track.querySelectorAll('.project-card'));
  const n = cards.length;
  for (let i = 1; i <= n; i++) { const c = cards[i % n].cloneNode(true); c.classList.add('clone'); refreshClonedVideos(c); track.appendChild(c); }
  const prependIter = [n - 1]; for (let i = 0; i < n - 1; i++) prependIter.push(i);
  prependIter.forEach(i => { const c = cards[i].cloneNode(true); c.classList.add('clone'); refreshClonedVideos(c); track.insertBefore(c, track.firstChild); });
  const cardWidth = cards[0].offsetWidth + 32;
  currentOffset = -(cardWidth * n);
  track.style.transform = `translateX(${currentOffset}px)`;
}

function getOriginalWidth() {
  const o = track.querySelectorAll('.project-card:not(.clone)');
  if (o.length === 0) return 1;
  return (o[0].offsetWidth + 32) * o.length;
}

function wrapOffset() {
  const w = getOriginalWidth();
  if (currentOffset > 0) { currentOffset -= w; track.style.transition = 'none'; track.style.transform = `translateX(${currentOffset}px)`; }
  else if (currentOffset < -(w * 2)) { currentOffset += w; track.style.transition = 'none'; track.style.transform = `translateX(${currentOffset}px)`; }
}

function applyOffset() {
  track.style.transition = 'none'; track.style.transform = `translateX(${currentOffset}px)`;
  wrapOffset(); highlightCenterCard();
}

function highlightCenterCard() {
  const vc = window.innerWidth / 2; const cards = track.querySelectorAll('.project-card');
  let closest = null, dist = Infinity;
  cards.forEach(c => { const r = c.getBoundingClientRect(); const d = Math.abs(r.left + r.width / 2 - vc); if (d < dist) { dist = d; closest = c; } });
  cards.forEach(c => c.classList.toggle('center-card', c === closest));
}

function startMomentum() {
  if (momentumRAF) cancelAnimationFrame(momentumRAF);
  function tick() { velocity *= FRICTION; if (Math.abs(velocity) < MIN_VELOCITY) { velocity = 0; momentumRAF = null; return; } currentOffset += velocity; applyOffset(); momentumRAF = requestAnimationFrame(tick); }
  momentumRAF = requestAnimationFrame(tick);
}
function stopMomentum() { if (momentumRAF) { cancelAnimationFrame(momentumRAF); momentumRAF = null; } velocity = 0; }
function trackVelocity(x) { const now = performance.now(); const dt = now - lastMoveTime; if (dt > 0 && dt < 100) velocity = ((x - lastMoveX) / dt) * 16 * VELOCITY_SCALE; lastMoveTime = now; lastMoveX = x; }

setupInfiniteTrack(); setupReelHovers(); highlightCenterCard();

// Deferred video loading
setTimeout(() => {
  document.querySelectorAll('.card-video').forEach(vid => {
    vid.addEventListener('loadeddata', () => vid.setAttribute('data-loaded', 'true'));
    vid.preload = 'auto'; vid.load();
  });
}, 3000);

// Mouse drag
track.addEventListener('mousedown', (e) => { stopMomentum(); isDragging = true; dragMoved = false; startX = e.pageX; lastMoveX = e.pageX; lastMoveTime = performance.now(); velocity = 0; track.classList.add('dragging'); track.style.transition = 'none'; e.preventDefault(); });
document.addEventListener('mouseup', () => { if (isDragging) { isDragging = false; track.classList.remove('dragging'); startMomentum(); } });
document.addEventListener('mousemove', (e) => { if (!isDragging) return; dragMoved = true; currentOffset += e.pageX - startX; applyOffset(); trackVelocity(e.pageX); startX = e.pageX; });

// Touch
track.addEventListener('touchstart', (e) => { stopMomentum(); isDragging = true; dragMoved = false; touchDirection = null; startX = e.touches[0].pageX; startY = e.touches[0].pageY; lastMoveX = e.touches[0].pageX; lastMoveTime = performance.now(); velocity = 0; track.style.transition = 'none'; }, { passive: true });
document.addEventListener('touchend', () => { if (isDragging) { isDragging = false; touchDirection = null; startMomentum(); } });
document.addEventListener('touchmove', (e) => {
  if (!isDragging) return;
  const dx = e.touches[0].pageX - startX, dy = e.touches[0].pageY - startY;
  if (!touchDirection) { if (Math.abs(dx) < 5 && Math.abs(dy) < 5) return; touchDirection = Math.abs(dx) > Math.abs(dy) ? 'horizontal' : 'vertical'; }
  if (touchDirection === 'vertical') { isDragging = false; return; }
  e.preventDefault(); dragMoved = true; currentOffset += dx; applyOffset(); trackVelocity(e.touches[0].pageX); startX = e.touches[0].pageX; startY = e.touches[0].pageY;
}, { passive: false });

track.addEventListener('mousedown', () => { dragMoved = false; });

// Video Modal
const videoModal = document.getElementById('videoModal');
const modalVideo = document.getElementById('modalVideo');
const modalTitle = document.getElementById('modalTitle');
const modalClose = document.getElementById('videoModalClose');

function openVideoModal(src, title) { modalVideo.src = src; modalTitle.textContent = title; videoModal.classList.add('active'); modalVideo.play(); document.body.style.overflow = 'hidden'; }
function closeVideoModal() { videoModal.classList.remove('active'); modalVideo.pause(); modalVideo.src = ''; document.body.style.overflow = ''; }
modalClose.addEventListener('click', (e) => { e.stopPropagation(); closeVideoModal(); });
videoModal.addEventListener('click', (e) => { if (e.target === videoModal) closeVideoModal(); });
document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeVideoModal(); });

track.querySelectorAll('.project-card').forEach(card => {
  card.addEventListener('click', (e) => {
    if (dragMoved) { e.preventDefault(); return; }
    const src = card.getAttribute('data-video');
    if (src) openVideoModal(src, card.querySelector('h3')?.textContent || '');
  });
});

// Toggle diensten
function toggleDienst(el) { el.classList.toggle('open'); }

// Init reels
initReels();

// Lazy-load reel images
const lazyObs = new IntersectionObserver((entries, observer) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.querySelectorAll('.reel-slide[data-bg]').forEach(slide => { slide.style.backgroundImage = `url(${slide.dataset.bg})`; delete slide.dataset.bg; });
      observer.unobserve(e.target);
    }
  });
}, { rootMargin: '200px 0px' });
document.querySelectorAll('.reel-slides').forEach(el => lazyObs.observe(el.closest('.project-card') || el));

// Scroll reveal
const reveals = document.querySelectorAll('.reveal');
const revObs = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('vis'); });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
reveals.forEach(el => revObs.observe(el));

// Smooth anchors
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener('click', e => {
    const href = a.getAttribute('href');
    if (href === '#') return;
    e.preventDefault();
    document.querySelector(href)?.scrollIntoView({ behavior: 'smooth' });
  });
});
</script>
</body>
</html>
